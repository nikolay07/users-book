{"version":3,"sources":["EditFields.jsx","PageNotFound.jsx","User.jsx","CreateUserInput.jsx","usersGateway.js","UsersList.jsx","UsersBook.jsx","App.jsx","index.js"],"names":["EditFields","location","useLocation","dataEdit","edit","className","name","type","to","PageNotFound","role","User","props","id","onDelete","onUpgrade","onUpgradePhone","updated","createdDate","phone","useState","state","setState","phoneNum","setPhoneNum","show","setShow","updatedTime","useEffect","moment","format","showInfo","classNames","createdTime","value","onChange","event","target","onKeyUp","onClick","pathname","CreateUserInput","onCreate","setName","setPhone","user","Date","usersList","JSON","parse","localStorage","getItem","newUsersList","setItem","stringify","baseUrl","upgradeUser","userId","userData","fetch","method","headers","body","then","response","ok","Error","UsersList","users","fetchUser","res","json","userList","handleUserDelete","deleteUser","handleUserUpgrade","changed","find","upgadedUser","handlePhoneUpgrade","upgadePhone","newUser","map","key","UsersBook","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.39cf5e6a.chunk.js","sourcesContent":["/* eslint-disable react/prop-types */\r\nimport React from \"react\";\r\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\r\n\r\nconst EditFields = () => {\r\n  const location = useLocation();\r\n  const dataEdit = location.edit;\r\n  if (!location.edit) return <Redirect to=\"/\" />;\r\n\r\n  return (\r\n    <div className=\"page__content\">\r\n      <div> Edit fields</div>\r\n      <div>{dataEdit.name}</div>\r\n      <button type=\"button\">\r\n        <Link to=\"/\">Back contact list</Link>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditFields;\r\n","/* eslint-disable jsx-a11y/accessible-emoji */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction PageNotFound() {\r\n  return (\r\n    <div className=\"page__content\">\r\n      <span role=\"img\">ðŸ˜¢</span>\r\n      <Link to=\"/\">Back home</Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PageNotFound;\r\n","/* eslint-disable react/prop-types */\r\n/* eslint-disable jsx-a11y/control-has-associated-label */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\nimport moment from \"moment\";\r\n\r\nconst User = (props) => {\r\n  const { id, name, onDelete, onUpgrade, onUpgradePhone, updated, createdDate, phone } = props;\r\n  const [state, setState] = useState(name);\r\n  const [phoneNum, setPhoneNum] = useState(phone);\r\n  const [show, setShow] = useState(false);\r\n\r\n  let updatedTime = updated;\r\n  useEffect(() => {\r\n    moment(updated).format(\"D-MM-YYYY, H:mm\");\r\n  }, [updated]);\r\n\r\n  if (updated) {\r\n    updatedTime = moment(updated).format(\"D-MM-YYYY, H:mm\");\r\n  }\r\n\r\n  const showInfo = classNames(\"showInfo\", {\r\n    \"showInfo-visible\": show,\r\n  });\r\n  const showInfoBlock = () => {\r\n    setShow(!show);\r\n  };\r\n\r\n  const createdTime = moment(createdDate).format(\"D-MM-YYYY, H:mm\");\r\n\r\n  const changeUser = (event) => {\r\n    setState(event.target.value);\r\n  };\r\n  const changePhoneNum = (event) => {\r\n    setPhoneNum(event.target.value);\r\n  };\r\n  return (\r\n    <li className=\"list-item\">\r\n      <div className=\"list-item__main\">\r\n        <span className=\"list-item__text\">\r\n          Name:\r\n          <input type=\"text\" value={state} onChange={changeUser} onKeyUp={() => onUpgrade(id, state)} />\r\n        </span>\r\n        <span className=\"list-item__text\">\r\n          Phone:\r\n          <input\r\n            type=\"number\"\r\n            value={phoneNum}\r\n            onChange={changePhoneNum}\r\n            onKeyUp={() => onUpgradePhone(id, phoneNum)}\r\n          />\r\n        </span>\r\n        <button type=\"button\" onClick={showInfoBlock} className=\"btn btn__info\">\r\n          Show Info\r\n        </button>\r\n        <button onClick={() => onDelete(id)} type=\"button\" className=\"btn btn__delete\">\r\n          Delete\r\n        </button>\r\n      </div>\r\n      <div className={showInfo}>\r\n        <ul>\r\n          <li>\r\n            FirstName:\r\n            {name}\r\n          </li>\r\n          <li>\r\n            PhoneNumber:\r\n            {phone}\r\n          </li>\r\n          <li>\r\n            created:\r\n            {createdTime}\r\n          </li>\r\n          {updated ? (\r\n            <li>\r\n              updated:\r\n              {updatedTime}\r\n            </li>\r\n          ) : null}\r\n        </ul>\r\n        <button type=\"button\" className=\"\">\r\n          <Link\r\n            to={{\r\n              pathname: \"/edit\",\r\n              edit: props,\r\n            }}\r\n          >\r\n            Edit fields\r\n          </Link>\r\n        </button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","/* eslint-disable react/prop-types */\r\nimport React, { useState } from \"react\";\r\n\r\nconst CreateUserInput = ({ onCreate }) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n\r\n  const saveInputName = (event) => {\r\n    setName(event.target.value);\r\n  };\r\n  const saveInputPhone = (event) => {\r\n    setPhone(event.target.value);\r\n  };\r\n\r\n  const clearInput = () => {\r\n    setName(\"\");\r\n    setPhone(\"\");\r\n  };\r\n\r\n  const handleUserCreate = () => {\r\n    if (name === \"\") {\r\n      return;\r\n    }\r\n    const user = { name, phone, createdDate: new Date() } || {};\r\n    const usersList = JSON.parse(localStorage.getItem(\"usersList\")) || [];\r\n    const newUsersList = [user, ...usersList];\r\n    localStorage.setItem(\"usersList\", JSON.stringify(newUsersList));\r\n    // localStorage.clear();\r\n    onCreate(name, phone);\r\n    clearInput();\r\n  };\r\n\r\n  return (\r\n    <div className=\"create-user\">\r\n      <span>Name:</span>\r\n      <input className=\"create-user__input\" type=\"text\" value={name} onChange={saveInputName} />\r\n      <span>Phone:</span>\r\n      <input className=\"create-user__input\" type=\"number\" value={phone} onChange={saveInputPhone} />\r\n      <button className=\"btn create-user__btn\" onClick={handleUserCreate} type=\"button\">\r\n        Create\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateUserInput;\r\n","const baseUrl = \"https://5e983e545eabe7001681bd52.mockapi.io/userbook\";\r\n\r\nexport const createUser = (userData) => {\r\n  return fetch(baseUrl, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\": \"application/json; charset=utf-8\",\r\n    },\r\n    body: JSON.stringify(userData),\r\n  }).then((response) => {\r\n    if (!response.ok) {\r\n      throw new Error(\"Faild to create user\");\r\n    }\r\n  });\r\n};\r\n\r\nexport const fetchUsersList = () => {\r\n  return fetch(baseUrl)\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n    })\r\n    .then((usersList) => usersList);\r\n};\r\n\r\nexport const deleteUser = (id) => {\r\n  return fetch(`${baseUrl}/${id}`, {\r\n    method: \"DELETE\",\r\n  }).then((response) => {\r\n    if (!response.ok) {\r\n      throw new Error(\"Failed to delete user\");\r\n    }\r\n  });\r\n};\r\n\r\nexport const upgradeUser = (userId, userData) => {\r\n  return fetch(`${baseUrl}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-type\": \"application/json;charset=utf-8\",\r\n    },\r\n    body: JSON.stringify(userData),\r\n  }).then((response) => {\r\n    if (!response.ok) {\r\n      throw new Error(\"Faild to update user\");\r\n    }\r\n  });\r\n};\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport User from \"./User\";\r\nimport CreateUserInput from \"./CreateUserInput\";\r\n\r\nimport { createUser, fetchUsersList, deleteUser, upgradeUser } from \"./usersGateway\";\r\n\r\nconst UsersList = () => {\r\n  const [state, setState] = useState({ users: [] });\r\n\r\n  const fetchUser = () => {\r\n    fetchUsersList().then((userList) => setState({ users: userList }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUser();\r\n  }, []);\r\n\r\n  const onCreate = (name, phone) => {\r\n    const newUser = {\r\n      name,\r\n      phone,\r\n      createdDate: new Date(),\r\n      updated: \"\",\r\n    };\r\n    createUser(newUser).then(() => fetchUser());\r\n  };\r\n\r\n  const handleUserDelete = (id) => {\r\n    deleteUser(id).then(() => fetchUser());\r\n  };\r\n\r\n  const handleUserUpgrade = (id, changed) => {\r\n    const { name } = state.users.find((user) => user.id === id);\r\n\r\n    const upgadedUser = {\r\n      name: changed,\r\n      updated: new Date(),\r\n    };\r\n\r\n    if (name !== changed) {\r\n      upgradeUser(id, upgadedUser).then(() => fetchUser());\r\n    }\r\n  };\r\n  const handlePhoneUpgrade = (id, changed) => {\r\n    const { phone } = state.users.find((user) => user.id === id);\r\n    const upgadePhone = {\r\n      phone: changed,\r\n      updated: new Date(),\r\n    };\r\n    if (phone !== changed) {\r\n      upgradeUser(id, upgadePhone).then(() => fetchUser());\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"user-list\">\r\n      <CreateUserInput onCreate={onCreate} />\r\n      <ul className=\"list\">\r\n        {state.users.map((user) => {\r\n          return (\r\n            <User\r\n              key={user.id}\r\n              {...user}\r\n              onDelete={handleUserDelete}\r\n              onUpgrade={handleUserUpgrade}\r\n              onUpgradePhone={handlePhoneUpgrade}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersList;\r\n","import React from \"react\";\r\nimport UsersList from \"./UsersList\";\r\n\r\nconst UsersBook = () => {\r\n  return (\r\n    <>\r\n      <h1 className=\"title\">Users List</h1>\r\n      <UsersList />\r\n    </>\r\n  );\r\n};\r\nexport default UsersBook;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport EditFields from \"./EditFields\";\r\nimport PageNotFound from \"./PageNotFound\";\r\nimport UsersBook from \"./UsersBook\";\r\n\r\nconst App = () => (\r\n  <BrowserRouter>\r\n    <Switch>\r\n      <Route exact path=\"/\">\r\n        <UsersBook />\r\n      </Route>\r\n      <Route path=\"/edit\">\r\n        <EditFields />\r\n      </Route>\r\n      <Route path=\"*\">\r\n        <PageNotFound />\r\n      </Route>\r\n    </Switch>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.scss\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}