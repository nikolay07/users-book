{"version":3,"sources":["EditFields.jsx","PageNotFound.jsx","User.jsx","CreateUserInput.jsx","usersGateway.js","UsersList.jsx","UsersBook.jsx","App.jsx","index.js"],"names":["EditFields","location","useLocation","dataEdit","edit","className","name","type","to","PageNotFound","role","User","props","id","onDelete","onUpgrade","onUpgradePhone","updated","createdDate","phone","useState","state","setState","phoneNum","setPhoneNum","show","setShow","updatedTime","useEffect","moment","format","showInfo","classNames","createdTime","value","onChange","event","target","onKeyUp","onClick","pathname","CreateUserInput","onCreate","setName","setPhone","user","Date","usersList","JSON","parse","localStorage","getItem","newUsersList","setItem","stringify","baseUrl","upgradeUser","userId","userData","fetch","method","headers","body","then","response","ok","Error","UsersList","users","fetchUser","res","json","userList","handleUserDelete","deleteUser","handleUserUpgrade","changed","find","upgadedUser","handlePhoneUpgrade","upgadePhone","newUser","map","key","UsersBook","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b34e8c01.chunk.js","sourcesContent":["/* eslint-disable react/prop-types */\r\nimport React from \"react\";\r\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\r\n\r\nconst EditFields = () => {\r\n  const location = useLocation();\r\n  const dataEdit = location.edit;\r\n  if (!location.edit) return <Redirect to=\"/\" />;\r\n\r\n  return (\r\n    <div className=\"page__content\">\r\n      <div> Edit fields</div>\r\n      <div>{dataEdit.name}</div>\r\n      <button type=\"button\">\r\n        <Link to=\"/\">Back contact list</Link>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditFields;\r\n","/* eslint-disable jsx-a11y/accessible-emoji */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction PageNotFound() {\r\n  return (\r\n    <div className=\"page__content\">\r\n      <span role=\"img\">ðŸ˜¢</span>\r\n      <Link to=\"/\">Back home</Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PageNotFound;\r\n","/* eslint-disable react/prop-types */\n/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport classNames from \"classnames\";\nimport moment from \"moment\";\n\nconst User = (props) => {\n  const { id, name, onDelete, onUpgrade, onUpgradePhone, updated, createdDate, phone } = props;\n  const [state, setState] = useState(name);\n  const [phoneNum, setPhoneNum] = useState(phone);\n  const [show, setShow] = useState(false);\n\n  let updatedTime = updated;\n  useEffect(() => {\n    moment(updated).format(\"D-MM-YYYY, H:mm\");\n  }, [updated]);\n\n  if (updated) {\n    updatedTime = moment(updated).format(\"D-MM-YYYY, H:mm\");\n  }\n\n  const showInfo = classNames(\"showInfo\", {\n    \"showInfo-visible\": show,\n  });\n  const showInfoBlock = () => {\n    setShow(!show);\n  };\n\n  const createdTime = moment(createdDate).format(\"D-MM-YYYY, H:mm\");\n\n  const changeUser = (event) => {\n    setState(event.target.value);\n  };\n  const changePhoneNum = (event) => {\n    setPhoneNum(event.target.value);\n  };\n  return (\n    <li className=\"list-item\">\n      <div className=\"list-item__main\">\n        <span className=\"list-item__text\">\n          Name:\n          <input type=\"text\" value={state} onChange={changeUser} onKeyUp={() => onUpgrade(id, state)} />\n        </span>\n        <span className=\"list-item__text\">\n          Phone:\n          <input\n            type=\"number\"\n            value={phoneNum}\n            onChange={changePhoneNum}\n            onKeyUp={() => onUpgradePhone(id, phoneNum)}\n          />\n        </span>\n        <button type=\"button\" onClick={showInfoBlock} className=\"btn btn__info\">\n          Show Info\n        </button>\n        <button onClick={() => onDelete(id)} type=\"button\" className=\"btn btn__delete\">\n          Delete\n        </button>\n      </div>\n      <div className={showInfo}>\n        <ul>\n          <li>\n            FirstName:\n            {name}\n          </li>\n          <li>\n            PhoneNumber:\n            {phone}\n          </li>\n          <li>\n            created:\n            {createdTime}\n          </li>\n          {updated ? (\n            <li>\n              updated:\n              {updatedTime}\n            </li>\n          ) : null}\n        </ul>\n        <button type=\"button\" className=\"\">\n          <Link\n            to={{\n              pathname: \"/edit\",\n              edit: props,\n            }}\n          >\n            Edit fields\n          </Link>\n        </button>\n      </div>\n    </li>\n  );\n};\n\nexport default User;\n","/* eslint-disable react/prop-types */\nimport React, { useState } from \"react\";\n\nconst CreateUserInput = ({ onCreate }) => {\n  const [name, setName] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n\n  const saveInputName = (event) => {\n    setName(event.target.value);\n  };\n  const saveInputPhone = (event) => {\n    setPhone(event.target.value);\n  };\n\n  const clearInput = () => {\n    setName(\"\");\n    setPhone(\"\");\n  };\n\n  const handleUserCreate = () => {\n    if (name === \"\") {\n      return;\n    }\n    const user = { name, phone, createdDate: new Date() } || {};\n    const usersList = JSON.parse(localStorage.getItem(\"usersList\")) || [];\n    const newUsersList = [user, ...usersList];\n    localStorage.setItem(\"usersList\", JSON.stringify(newUsersList));\n    // localStorage.clear();\n    onCreate(name, phone);\n    clearInput();\n  };\n\n  return (\n    <div className=\"create-user\">\n      <span>Name:</span>\n      <input className=\"create-user__input\" type=\"text\" value={name} onChange={saveInputName} />\n      <span>Phone:</span>\n      <input className=\"create-user__input\" type=\"number\" value={phone} onChange={saveInputPhone} />\n      <button className=\"btn create-user__btn\" onClick={handleUserCreate} type=\"button\">\n        Create\n      </button>\n    </div>\n  );\n};\n\nexport default CreateUserInput;\n","const baseUrl = \"https://5e983e545eabe7001681bd52.mockapi.io/userbook\";\n\nexport const createUser = (userData) => {\n  return fetch(baseUrl, {\n    method: \"POST\",\n    headers: {\n      \"Content-type\": \"application/json; charset=utf-8\",\n    },\n    body: JSON.stringify(userData),\n  }).then((response) => {\n    if (!response.ok) {\n      throw new Error(\"Faild to create user\");\n    }\n  });\n};\n\nexport const fetchUsersList = () => {\n  return fetch(baseUrl)\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    })\n    .then((usersList) => usersList);\n};\n\nexport const deleteUser = (id) => {\n  return fetch(`${baseUrl}/${id}`, {\n    method: \"DELETE\",\n  }).then((response) => {\n    if (!response.ok) {\n      throw new Error(\"Failed to delete user\");\n    }\n  });\n};\n\nexport const upgradeUser = (userId, userData) => {\n  return fetch(`${baseUrl}/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-type\": \"application/json;charset=utf-8\",\n    },\n    body: JSON.stringify(userData),\n  }).then((response) => {\n    if (!response.ok) {\n      throw new Error(\"Faild to update user\");\n    }\n  });\n};\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useState, useEffect } from \"react\";\nimport User from \"./User\";\nimport CreateUserInput from \"./CreateUserInput\";\n\nimport { createUser, fetchUsersList, deleteUser, upgradeUser } from \"./usersGateway\";\n\nconst UsersList = () => {\n  const [state, setState] = useState({ users: [] });\n\n  const fetchUser = () => {\n    fetchUsersList().then((userList) => setState({ users: userList }));\n  };\n\n  useEffect(() => {\n    fetchUser();\n  }, []);\n\n  const onCreate = (name, phone) => {\n    const newUser = {\n      name,\n      phone,\n      createdDate: new Date(),\n      updated: \"\",\n    };\n    createUser(newUser).then(() => fetchUser());\n  };\n\n  const handleUserDelete = (id) => {\n    deleteUser(id).then(() => fetchUser());\n  };\n\n  const handleUserUpgrade = (id, changed) => {\n    const { name } = state.users.find((user) => user.id === id);\n\n    const upgadedUser = {\n      name: changed,\n      updated: new Date(),\n    };\n\n    if (name !== changed) {\n      upgradeUser(id, upgadedUser).then(() => fetchUser());\n    }\n  };\n  const handlePhoneUpgrade = (id, changed) => {\n    const { phone } = state.users.find((user) => user.id === id);\n    const upgadePhone = {\n      phone: changed,\n      updated: new Date(),\n    };\n    if (phone !== changed) {\n      upgradeUser(id, upgadePhone).then(() => fetchUser());\n    }\n  };\n\n  return (\n    <div className=\"user-list\">\n      <CreateUserInput onCreate={onCreate} />\n      <ul className=\"list\">\n        {state.users.map((user) => {\n          return (\n            <User\n              key={user.id}\n              {...user}\n              onDelete={handleUserDelete}\n              onUpgrade={handleUserUpgrade}\n              onUpgradePhone={handlePhoneUpgrade}\n            />\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\nexport default UsersList;\n","import React from \"react\";\nimport UsersList from \"./UsersList\";\n\nconst UsersBook = () => {\n  return (\n    <>\n      <h1 className=\"title\">Users List</h1>\n      <UsersList />\n    </>\n  );\n};\nexport default UsersBook;\n","import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport EditFields from \"./EditFields\";\nimport PageNotFound from \"./PageNotFound\";\nimport UsersBook from \"./UsersBook\";\n\nconst App = () => (\n  <BrowserRouter>\n    <Switch>\n      <Route exact path=\"/\">\n        <UsersBook />\n      </Route>\n      <Route path=\"/edit\">\n        <EditFields />\n      </Route>\n      <Route path=\"*\">\n        <PageNotFound />\n      </Route>\n    </Switch>\n  </BrowserRouter>\n);\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}